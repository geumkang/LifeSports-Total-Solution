<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Schedule">

	<!-- 
	@Parameter : MONTH / YEAR
	@Do : 해당 월 일정 검색
	 -->
	<select id="scheduleListByMonth" parameterType="hashMap" resultType="hashMap">
		select
			schedule_ID as "id",
			gym_ID as "gym_id",
			fac_ID as "fac_id",
			schedule_name as "name",
			schedule_detail as "detail",
			schedule_type as "type",
			starttime as "startTime",
			endtime as "endTime"
		from
			fac_schedule
		where
			STR_TO_DATE(#{searchStartDate}, '%Y-%m') &lt; STR_TO_DATE(starttime, '%Y-%m-%d %H:%i:%s') AND
			STR_TO_DATE(#{searchEndDate}, '%Y-%m') &gt; STR_TO_DATE(starttime, '%Y-%m-%d %H:%i:%s')
	</select>
	
	<select id="addSchedule" parameterType="hashMap" resultType="hashMap">
	
	</select>
	
	<select id="editSchedule" parameterType="hashMap" resultType="hashMap">
	
	</select>
	
	<select id="delSchedule" parameterType="hashMap" resultType="hashMap">
	
	</select>
	
	<!-- 
	@Parameter : title / contents
	@Do : 새로운 게시글 추가
	 -->
	<insert id="insertTournament_board" parameterType="hashMap" >
	insert
		into tournament_board
	(
		title,
		contents
	)
	values
	(
		#{title},
		#{contents}
	)
	</insert>
	
	<!-- 
	@Parameter : serial
	@Do : serial을 가진 게시글의 정보 검색
	 -->
	<select id="selectTournament_board" parameterType="hashMap" resultType="hashMap">
		select
			tournament_ID as "serial",
			title as "title",
			contents as "contents"
		from
			tournament_board
		where
			tournament_ID = #{serial}
	</select>
	
	<!-- 
	@Parameter : -
	@Do : 현재 사용자와 연관된 게시글 전체 조회
	 -->
	<select id="listTournament_board" parameterType="hashMap" resultType="hashMap">
		select
			tournament_ID as "serial",
			title as "title"
		from
			tournament_board
	</select>
	
	<!-- 
	@Parameter : serial
	@Do : 게시글 삭제
	 -->
	<update id="deleteTournament_board" parameterType="hashMap">
		delete
		from
			tournament_board
		where
			tournament_ID = #{serial}
	</update>
	
	<!-- 
	@Parameter : serial
	@Do : 게시글 수정
	 -->
	<update id="updateTournament_board" parameterType="hashMap">
		update
			tournament_board
		set
			title = #{title},
			contents = #{contents}
		where
			tournament_ID = #{serial}
	</update>
	
</mapper>
